2025-12-13 20:37:46.340 +03:00 [INF] Now listening on: https://localhost:7272
2025-12-13 20:37:46.377 +03:00 [INF] Now listening on: http://localhost:5236
2025-12-13 20:37:46.443 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7272/swagger/index.html - null null
2025-12-13 20:37:46.452 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-13 20:37:46.454 +03:00 [INF] Hosting environment: Development
2025-12-13 20:37:46.454 +03:00 [INF] Content root path: C:\Users\mutaf\Documents\GitHub\customer-churn-prediction-ai\src\Backend\CustomerAI.API
2025-12-13 20:37:46.568 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7272/swagger/index.html - 200 null text/html;charset=utf-8 125.2696ms
2025-12-13 20:37:46.587 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7272/_framework/aspnetcore-browser-refresh.js - null null
2025-12-13 20:37:46.589 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7272/_vs/browserLink - null null
2025-12-13 20:37:46.596 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7272/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 8.9363ms
2025-12-13 20:37:46.616 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7272/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.3677ms
2025-12-13 20:37:46.661 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7272/swagger/favicon-16x16.png - null null
2025-12-13 20:37:46.670 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2025-12-13 20:37:46.671 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7272/swagger/favicon-16x16.png - 499 665 image/png 10.4892ms
2025-12-13 20:37:46.694 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7272/swagger/v1/swagger.json - null null
2025-12-13 20:37:46.702 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7272/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.6317ms
2025-12-13 20:37:57.463 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7272/api/Reports/dashboard - null null
2025-12-13 20:37:57.470 +03:00 [INF] CORS policy execution successful.
2025-12-13 20:37:57.474 +03:00 [INF] Executing endpoint 'CustomerAI.API.Controllers.ReportsController.GetDashboardStats (CustomerAI.API)'
2025-12-13 20:37:57.490 +03:00 [INF] Route matched with {action = "GetDashboardStats", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboardStats() on controller CustomerAI.API.Controllers.ReportsController (CustomerAI.API).
2025-12-13 20:37:59.175 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Customers] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
2025-12-13 20:37:59.262 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[ChurnScore], [t0].[CreatedAt], [t0].[CustomerId], [t0].[IsDeleted], [t0].[PredictionDate], [t0].[RecommendedAction], [t0].[RiskLevel], [t0].[UpdatedAt]
FROM (
    SELECT [a].[CustomerId]
    FROM [AiPredictionLogs] AS [a]
    GROUP BY [a].[CustomerId]
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[ChurnScore], [t1].[CreatedAt], [t1].[CustomerId], [t1].[IsDeleted], [t1].[PredictionDate], [t1].[RecommendedAction], [t1].[RiskLevel], [t1].[UpdatedAt]
    FROM (
        SELECT [a0].[Id], [a0].[ChurnScore], [a0].[CreatedAt], [a0].[CustomerId], [a0].[IsDeleted], [a0].[PredictionDate], [a0].[RecommendedAction], [a0].[RiskLevel], [a0].[UpdatedAt], ROW_NUMBER() OVER(PARTITION BY [a0].[CustomerId] ORDER BY [a0].[PredictionDate] DESC) AS [row]
        FROM [AiPredictionLogs] AS [a0]
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[CustomerId] = [t0].[CustomerId]
2025-12-13 20:37:59.395 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CustomerId], [c].[Name], [t].[ChurnScore], [t].[RiskLevel], [t].[RecommendedAction]
FROM (
    SELECT TOP(@__p_0) [a].[ChurnScore], [a].[CustomerId], [a].[PredictionDate], [a].[RecommendedAction], [a].[RiskLevel]
    FROM [AiPredictionLogs] AS [a]
    ORDER BY [a].[PredictionDate] DESC
) AS [t]
INNER JOIN [Customers] AS [c] ON [t].[CustomerId] = [c].[Id]
ORDER BY [t].[PredictionDate] DESC
2025-12-13 20:37:59.403 +03:00 [INF] Executing OkObjectResult, writing value of type 'CustomerAI.Core.DTOs.DashboardSummaryDto'.
2025-12-13 20:37:59.419 +03:00 [INF] Executed action CustomerAI.API.Controllers.ReportsController.GetDashboardStats (CustomerAI.API) in 1923.5318ms
2025-12-13 20:37:59.420 +03:00 [INF] Executed endpoint 'CustomerAI.API.Controllers.ReportsController.GetDashboardStats (CustomerAI.API)'
2025-12-13 20:37:59.427 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7272/api/Reports/dashboard - 200 null application/json; charset=utf-8 1964.1558ms
2025-12-13 20:38:00.885 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7272/api/Reports/export-risky-customers - null null
2025-12-13 20:38:00.890 +03:00 [INF] CORS policy execution successful.
2025-12-13 20:38:00.891 +03:00 [INF] Executing endpoint 'CustomerAI.API.Controllers.ReportsController.ExportRiskyCustomers (CustomerAI.API)'
2025-12-13 20:38:00.896 +03:00 [INF] Route matched with {action = "ExportRiskyCustomers", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportRiskyCustomers() on controller CustomerAI.API.Controllers.ReportsController (CustomerAI.API).
2025-12-13 20:38:00.901 +03:00 [INF] Riskli Müşteri Raporu talep edildi. Tarih: "2025-12-13T20:38:00.9010311+03:00"
2025-12-13 20:38:00.949 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ChurnScore], [a].[CreatedAt], [a].[CustomerId], [a].[IsDeleted], [a].[PredictionDate], [a].[RecommendedAction], [a].[RiskLevel], [a].[UpdatedAt], [c].[Id], [c].[City], [c].[CreatedAt], [c].[Email], [c].[IsDeleted], [c].[MembershipDate], [c].[Name], [c].[Phone], [c].[Sector], [c].[UpdatedAt]
FROM [AiPredictionLogs] AS [a]
INNER JOIN [Customers] AS [c] ON [a].[CustomerId] = [c].[Id]
WHERE [a].[RiskLevel] IN (3, 4)
2025-12-13 20:38:01.031 +03:00 [INF] Rapor başarıyla oluşturuldu. Toplam 607 kayıt çekildi.
2025-12-13 20:38:01.034 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CustomerAI.Core.DTOs.RiskyCustomerExportDto, CustomerAI.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-13 20:38:01.046 +03:00 [INF] Executed action CustomerAI.API.Controllers.ReportsController.ExportRiskyCustomers (CustomerAI.API) in 146.7232ms
2025-12-13 20:38:01.048 +03:00 [INF] Executed endpoint 'CustomerAI.API.Controllers.ReportsController.ExportRiskyCustomers (CustomerAI.API)'
2025-12-13 20:38:01.049 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7272/api/Reports/export-risky-customers - 200 null application/json; charset=utf-8 163.843ms
2025-12-13 22:29:15.242 +03:00 [INF] Now listening on: https://localhost:7272
2025-12-13 22:29:15.273 +03:00 [INF] Now listening on: http://localhost:5236
2025-12-13 22:29:15.346 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-13 22:29:15.348 +03:00 [INF] Hosting environment: Development
2025-12-13 22:29:15.349 +03:00 [INF] Content root path: C:\Users\mutaf\Documents\GitHub\customer-churn-prediction-ai\src\Backend\CustomerAI.API
2025-12-13 22:29:15.822 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7272/swagger/index.html - null null
2025-12-13 22:29:15.946 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7272/swagger/index.html - 200 null text/html;charset=utf-8 124.2603ms
2025-12-13 22:29:15.963 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7272/_framework/aspnetcore-browser-refresh.js - null null
2025-12-13 22:29:15.963 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7272/_vs/browserLink - null null
2025-12-13 22:29:15.963 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7272/swagger/swagger-ui.css - null null
2025-12-13 22:29:15.972 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7272/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 8.47ms
2025-12-13 22:29:15.984 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-12-13 22:29:15.987 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7272/swagger/swagger-ui.css - 499 152034 text/css 23.0961ms
2025-12-13 22:29:15.995 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7272/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.9456ms
2025-12-13 22:29:16.048 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7272/swagger/favicon-16x16.png - null null
2025-12-13 22:29:16.053 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2025-12-13 22:29:16.054 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7272/swagger/favicon-16x16.png - 499 665 image/png 6.0866ms
2025-12-13 22:29:16.083 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7272/swagger/v1/swagger.json - null null
2025-12-13 22:29:16.091 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7272/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.8142ms
2025-12-13 22:29:41.207 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7272/api/Reports/dashboard - null null
2025-12-13 22:29:41.215 +03:00 [INF] Executing endpoint 'CustomerAI.API.Controllers.ReportsController.GetDashboardStats (CustomerAI.API)'
2025-12-13 22:29:41.233 +03:00 [INF] Route matched with {action = "GetDashboardStats", controller = "Reports"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboardStats() on controller CustomerAI.API.Controllers.ReportsController (CustomerAI.API).
2025-12-13 22:29:41.311 +03:00 [INF] Dashboard özet verileri talep edildi.
2025-12-13 22:29:43.013 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Customers] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit)
2025-12-13 22:29:43.102 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[ChurnScore], [t0].[CreatedAt], [t0].[CustomerId], [t0].[IsDeleted], [t0].[PredictionDate], [t0].[RecommendedAction], [t0].[RiskLevel], [t0].[UpdatedAt]
FROM (
    SELECT [a].[CustomerId]
    FROM [AiPredictionLogs] AS [a]
    GROUP BY [a].[CustomerId]
) AS [t]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[ChurnScore], [t1].[CreatedAt], [t1].[CustomerId], [t1].[IsDeleted], [t1].[PredictionDate], [t1].[RecommendedAction], [t1].[RiskLevel], [t1].[UpdatedAt]
    FROM (
        SELECT [a0].[Id], [a0].[ChurnScore], [a0].[CreatedAt], [a0].[CustomerId], [a0].[IsDeleted], [a0].[PredictionDate], [a0].[RecommendedAction], [a0].[RiskLevel], [a0].[UpdatedAt], ROW_NUMBER() OVER(PARTITION BY [a0].[CustomerId] ORDER BY [a0].[PredictionDate] DESC) AS [row]
        FROM [AiPredictionLogs] AS [a0]
    ) AS [t1]
    WHERE [t1].[row] <= 1
) AS [t0] ON [t].[CustomerId] = [t0].[CustomerId]
2025-12-13 22:29:43.233 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[CustomerId], [c].[Name], [t].[ChurnScore], [t].[RiskLevel], [t].[RecommendedAction]
FROM (
    SELECT TOP(@__p_0) [a].[ChurnScore], [a].[CustomerId], [a].[PredictionDate], [a].[RecommendedAction], [a].[RiskLevel]
    FROM [AiPredictionLogs] AS [a]
    ORDER BY [a].[PredictionDate] DESC
) AS [t]
INNER JOIN [Customers] AS [c] ON [t].[CustomerId] = [c].[Id]
ORDER BY [t].[PredictionDate] DESC
2025-12-13 22:29:43.238 +03:00 [INF] Dashboard verileri başarıyla çekildi. Toplam Müşteri: 2000, Riskli: 607
2025-12-13 22:29:43.242 +03:00 [INF] Executing OkObjectResult, writing value of type 'CustomerAI.Core.DTOs.DashboardSummaryDto'.
2025-12-13 22:29:43.257 +03:00 [INF] Executed action CustomerAI.API.Controllers.ReportsController.GetDashboardStats (CustomerAI.API) in 2018.6335ms
2025-12-13 22:29:43.259 +03:00 [INF] Executed endpoint 'CustomerAI.API.Controllers.ReportsController.GetDashboardStats (CustomerAI.API)'
2025-12-13 22:29:43.262 +03:00 [INF] HTTP GET /api/Reports/dashboard responded 200 in 2046.4693 ms
2025-12-13 22:29:43.268 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7272/api/Reports/dashboard - 200 null application/json; charset=utf-8 2061.4399ms
